<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>React-Nativeå…¥é—¨æ•™ç¨‹ - Pinvon&#39;s Blog</title>
    <meta charset="utf-8" />
    <meta name="author" content="Pinvon" />
    <meta name="description" content="&lt;TODO: insert your description here&gt;" />
    <meta name="keywords" content="&lt;TODO: insert your keywords here&gt;" />
    <link rel="stylesheet" href="/media/css/main.css" type="text/css">
    <link rel="stylesheet" href="/media/css/prettify.css" type="text/css">
  </head>
  <body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="/">Pinvon&#39;s Blog</a></h1>
        <p>æ‰€è§ï¼Œæ‰€é—»ï¼Œæ‰€æ€ï¼Œæ‰€æƒ³</p>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/tags/">Tags</a></li>
          <li><a href="/about/">About</a></li>
          <li><a href="https://github.com/pinvondev">GitHub</a></li>
          <li><a href="/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="//www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="pinvondev.github.io">
        </form>
      </header>
    </div>

<div>
<div class="post">
<h1>React-Nativeå…¥é—¨æ•™ç¨‹</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgaaa68c8">props(å±æ€§)</a></li>
<li><a href="#org75bbd2d">state(çŠ¶æ€)</a></li>
<li><a href="#org56417b9">style(æ ·å¼)</a></li>
<li><a href="#org8c63951">é«˜åº¦ä¸å®½åº¦</a>
<ul>
<li><a href="#orgf538da7">æŒ‡å®šå®½é«˜</a></li>
<li><a href="#org4a3a495">å¼¹æ€§å®½é«˜(flex)</a></li>
</ul>
</li>
<li><a href="#org54c8fd4">ä½¿ç”¨Flexboxå¸ƒå±€</a>
<ul>
<li><a href="#org53259a3">flexDirection</a></li>
<li><a href="#org7d1a33e">justifyContent</a></li>
<li><a href="#org413da17">alignItems</a></li>
</ul>
</li>
<li><a href="#orgeae53bc">å¤„ç†æ–‡æœ¬è¾“å…¥</a></li>
<li><a href="#org0b49db9">(ScrollView)æ»šåŠ¨è§†å›¾</a></li>
<li><a href="#org3d7a478">é•¿åˆ—è¡¨</a>
<ul>
<li><a href="#org6f06009">FlatList</a></li>
<li><a href="#org38b4ef6">SectionList</a></li>
</ul>
</li>
<li><a href="#org893dd1f">ç½‘ç»œ</a>
<ul>
<li><a href="#org84b79c8">fetch</a>
<ul>
<li><a href="#orgdc967d9">å‘èµ·ç½‘ç»œè¯·æ±‚</a></li>
</ul>
</li>
<li><a href="#org1908bad">å¤„ç†æœåŠ¡å™¨çš„å“åº”æ•°æ®</a></li>
<li><a href="#org78623f0">AJAX</a></li>
<li><a href="#org0b9479a">WebSocket</a></li>
</ul>
</li>
<li><a href="#org0318fbf">Navigation</a>
<ul>
<li><a href="#org0ab6c1b">å®‰è£…</a></li>
<li><a href="#org744d302">åˆ›å»ºä¸¤ä¸ªé¡µé¢</a></li>
</ul>
</li>
<li><a href="#orgfdf9d18">é›†æˆåˆ°ç°æœ‰åŸç”Ÿåº”ç”¨</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgaaa68c8" class="outline-2">
<h2 id="orgaaa68c8">props(å±æ€§)</h2>
<div class="outline-text-2" id="text-orgaaa68c8">
<p>
å¤§éƒ¨åˆ†ç»„ä»¶åœ¨åˆ›å»ºçš„æ—¶å€™, å°±å¯ä»¥ä½¿ç”¨å„ç§å‚æ•°æ¥è¿›è¡Œå®šåˆ¶. è¿™äº›å‚æ•°å°±ç§°ä¸º <code>props</code>.
</p>

<p>
ä¾‹å¦‚, åœ¨åˆ›å»ºå›¾ç‰‡æ—¶:
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { Image } from 'react-native';

export default class Bananas extends Component {
  render() {
    let pic = {
      uri: 'https://upload.wikimedia.org/wikipedia/commons/d/de/Bananavarieties.jpg'
    };
    return (
      &lt;Image source={pic} style={{width: 193, height: 110}} /&gt;
    );
  }
}
</pre>
</div>
<p>
è¿™è¾¹, ä½¿ç”¨åä¸º <code>source</code> çš„propsæ¥æŒ‡å®šå›¾ç‰‡çš„åœ°å€, ä½¿ç”¨åä¸º <code>style</code> çš„propsæ¥æ§åˆ¶å°ºå¯¸.
</p>
</div>
</div>

<div id="outline-container-org75bbd2d" class="outline-2">
<h2 id="org75bbd2d">state(çŠ¶æ€)</h2>
<div class="outline-text-2" id="text-org75bbd2d">
<p>
<code>props</code> ä¸€æ—¦è¢«æŒ‡å®š, åœ¨è¯¥ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­å°±ä¸å†æ”¹å˜. å¦‚æœæœ‰ç»„ä»¶ç»§ç»­äº†è¯¥ç»„ä»¶, åˆ™å¯ä»¥åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨ <code>state</code> æ¥æ”¹å˜.
</p>

<p>
ä¸€èˆ¬åšæ³•: å­ç»„ä»¶åœ¨ <code>constructor()</code> ä¸­åˆå§‹åŒ– <code>state</code>, åœ¨éœ€è¦ä¿®æ”¹æ—¶ä½¿ç”¨ <code>setState()</code>.
</p>

<p>
å¦‚: è¦åˆ¶ä½œä¸€æ®µé—ªçƒçš„æ–‡å­—. æ–‡å­—å†…å®¹åœ¨ç»„ä»¶åˆ›å»ºæ—¶è¢«æŒ‡å®š, æ‰€ä»¥æ–‡å­—å†…å®¹åº”è¯¥æ˜¯ä¸€ä¸ª <code>prop</code>, è€Œæ–‡å­—çš„æ˜¾ç¤ºæˆ–éšè—çŠ¶æ€(å¿«é€Ÿæ˜¾éšåˆ‡æ¢å¯äº§ç”Ÿé—ªçƒæ•ˆæœ)æ˜¯éšæ—¶é—´å˜åŒ–çš„, å› æ­¤è¿™ä¸ªçŠ¶æ€åº”è¯¥å†™åˆ° <code>state</code> ä¸­.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { Text, View } from 'react-native';
class Blink extends Component {
    constructor(props) {
        super(props);
        this.state = { showText: true };

        // æ¯1så¯¹showTextçŠ¶æ€å–å
        setInterval(() =&gt; {
            this.setState(previousState =&gt; {
                return { showText: !previousState.showText };
            });
        }, 1000);
    }
    render () {
        // æ ¹æ®showTextçš„å€¼æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºtextå†…å®¹
        let display = this.state.showText ? this.props.text : ' ';
        return (
                &lt;Text&gt;{display}&lt;/Text&gt;
        );
    }
}
export default class BlinkApp extends Component {
  render() {
    return (
      &lt;View&gt;
        &lt;Blink text='I love to blink' /&gt;
        &lt;Blink text='Yes blinking is so great' /&gt;
        &lt;Blink text='Why did they ever take this out of HTML' /&gt;
        &lt;Blink text='Look at me look at me look at me' /&gt;
      &lt;/View&gt;
    );
  }
}
</pre>
</div>

<p>
è¿™åªæ˜¯ç¤ºä¾‹. <code>state</code> ä½¿ç”¨çš„å…¸å‹åœºæ™¯æ˜¯åœ¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„æ–°æ•°æ®, æˆ–åœ¨ç”¨æˆ·è¾“å…¥æ•°æ®ä¹‹å.
</p>
</div>
</div>

<div id="outline-container-org56417b9" class="outline-2">
<h2 id="org56417b9">style(æ ·å¼)</h2>
<div class="outline-text-2" id="text-org56417b9">
<p>
æ‰€æœ‰æ ¸å¿ƒç»„ä»¶éƒ½æ¥å—åä¸º <code>style</code> çš„å±æ€§.
</p>

<p>
åœ¨å®é™…å¼€å‘çš„æ—¶å€™, æ ·å¼ä¼šå¾ˆå¤æ‚. å»ºè®®ä½¿ç”¨ <code>StyleSheet.create</code> æ¥é›†ä¸­å®šä¹‰ç»„ä»¶çš„æ ·å¼. å¦‚:
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { AppRegistry, StyleSheet, Text, View } from 'react-native';

export default class LotsOfStyles extends Component {
  render() {
    return (
      &lt;View&gt;
        &lt;Text style={styles.red}&gt;just red&lt;/Text&gt;
        &lt;Text style={styles.bigblue}&gt;just bigblue&lt;/Text&gt;
        &lt;Text style={[styles.bigblue, styles.red]}&gt;bigblue, then red&lt;/Text&gt;
        &lt;Text style={[styles.red, styles.bigblue]}&gt;red, then bigblue&lt;/Text&gt;
      &lt;/View&gt;
    );
  }
}

const styles = StyleSheet.create({
  bigblue: {
    color: 'blue',
    fontWeight: 'bold',
    fontSize: 30,
  },
  red: {
    color: 'red',
  },
});

AppRegistry.registerComponent('LotsOfStyles', () =&gt; LotsOfStyles);
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c63951" class="outline-2">
<h2 id="org8c63951">é«˜åº¦ä¸å®½åº¦</h2>
<div class="outline-text-2" id="text-org8c63951">
</div>
<div id="outline-container-orgf538da7" class="outline-3">
<h3 id="orgf538da7">æŒ‡å®šå®½é«˜</h3>
<div class="outline-text-3" id="text-orgf538da7">
<p>
ç»„ä»¶çš„é«˜åº¦ä¸å®½åº¦å†³å®šäº†å®ƒåœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„å°ºå¯¸. ç»™ç»„ä»¶è®¾å®šå°ºå¯¸çš„æ–¹å¼æ˜¯åœ¨æ ·å¼ä¸­æŒ‡å®š <code>width</code> å’Œ <code>height</code>. React Nativeä¸­å°ºå¯¸æ²¡æœ‰å•ä½, è¡¨ç¤ºçš„æ˜¯ä¸è®¾å¤‡åƒç´ å¯†åº¦æ— å…³çš„é€»è¾‘åƒç´ ç‚¹.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { AppRegistry, View } from 'react-native';

class FixedDimensionsBasics extends Component {
  render() {
    return (
      &lt;View&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'powderblue'}} /&gt;
        &lt;View style={{width: 100, height: 100, backgroundColor: 'skyblue'}} /&gt;
        &lt;View style={{width: 150, height: 150, backgroundColor: 'steelblue'}} /&gt;
      &lt;/View&gt;
    );
  }
};
// æ³¨å†Œåº”ç”¨(registerComponent)åæ‰èƒ½æ­£ç¡®æ¸²æŸ“
// æ³¨æ„ï¼šåªæŠŠåº”ç”¨ä½œä¸ºä¸€ä¸ªæ•´ä½“æ³¨å†Œä¸€æ¬¡ï¼Œè€Œä¸æ˜¯æ¯ä¸ªç»„ä»¶/æ¨¡å—éƒ½æ³¨å†Œ
AppRegistry.registerComponent('AwesomeProject', () =&gt; FixedDimensionsBasics);
</pre>
</div>
</div>
</div>

<div id="outline-container-org4a3a495" class="outline-3">
<h3 id="org4a3a495">å¼¹æ€§å®½é«˜(flex)</h3>
<div class="outline-text-3" id="text-org4a3a495">
<p>
<code>flex</code> è¡¨ç¤ºåœ¨å¯åˆ©ç”¨çš„ç©ºé—´ä¸­åŠ¨æ€æ‰©å¼ æˆ–æ”¶ç¼©. ä¸€èˆ¬ä¼šä½¿ç”¨ <code>flex:1</code> æ¥æŒ‡å®šæŸä¸ªç»„ä»¶æ‰©å¼ ä»¥æ’‘æ»¡æ‰€æœ‰å‰©ä½™çš„ç©ºé—´.
</p>

<p>
å¦‚æœæœ‰å¤šä¸ªå¹¶åˆ—çš„å­ç»„ä»¶ä½¿ç”¨äº† <code>flex:1</code>, åˆ™è¿™äº›å­ç»„ä»¶ä¼šå¹³åˆ†çˆ¶å®¹å™¨ä¸­çš„å‰©ä½™ç©ºé—´.
</p>

<p>
ç»„ä»¶èƒ½æ’‘æ»¡å‰©ä½™ç©ºé—´çš„å‰ææ˜¯å…¶çˆ¶å®¹å™¨çš„å°ºå¯¸ä¸ä¸º0. å¦‚æœçˆ¶å®¹å™¨æ—¢æ²¡æœ‰å›ºå®šçš„ <code>width</code> å’Œ <code>height</code>, ä¹Ÿæ²¡æœ‰è®¾å®š <code>flex</code>, åˆ™çˆ¶å®¹å™¨çš„å°ºå¯¸ä¸º0. è¿™æ ·çš„è¯, å³ä½¿å­ç»„ä»¶ä½¿ç”¨äº† <code>flex</code> ä¹Ÿä¸ä¼šèµ·æ•ˆæœ.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { AppRegistry, View } from 'react-native';

class FlexDimensionsBasics extends Component {
  render() {
    return (
      // è¯•è¯•å»æ‰çˆ¶Viewä¸­çš„`flex: 1`ã€‚
      // åˆ™çˆ¶Viewä¸å†å…·æœ‰å°ºå¯¸ï¼Œå› æ­¤å­ç»„ä»¶ä¹Ÿæ— æ³•å†æ’‘å¼€ã€‚
      // ç„¶åå†ç”¨`height: 300`æ¥ä»£æ›¿çˆ¶Viewçš„`flex: 1`è¯•è¯•çœ‹ï¼Ÿ
      &lt;View style={{flex: 1}}&gt;
        &lt;View style={{flex: 1, backgroundColor: 'powderblue'}} /&gt;
        &lt;View style={{flex: 2, backgroundColor: 'skyblue'}} /&gt;
        &lt;View style={{flex: 3, backgroundColor: 'steelblue'}} /&gt;
      &lt;/View&gt;
    );
  }
};

AppRegistry.registerComponent('AwesomeProject', () =&gt; FlexDimensionsBasics);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org54c8fd4" class="outline-2">
<h2 id="org54c8fd4">ä½¿ç”¨Flexboxå¸ƒå±€</h2>
<div class="outline-text-2" id="text-org54c8fd4">
<p>
åœ¨React Nativeä¸­, ä½¿ç”¨flexboxè§„åˆ™æ¥æŒ‡å®šæŸä¸ªç»„ä»¶çš„å­å…ƒç´ çš„å¸ƒå±€. flexboxå¯ä»¥åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸Šæä¾›ä¸€è‡´çš„å¸ƒå±€ç»“æ„.
</p>
</div>

<div id="outline-container-org53259a3" class="outline-3">
<h3 id="org53259a3">flexDirection</h3>
<div class="outline-text-3" id="text-org53259a3">
<p>
åœ¨ç»„ä»¶çš„ <code>style</code> ä¸­æŒ‡å®š <code>flexDirection</code> å¯ä»¥å†³å®šå¸ƒå±€çš„ä¸»è½´. å­å…ƒç´ å¯ä»¥æ²¿ç€æ°´å¹³æ’åˆ—(row), ä¹Ÿå¯ä»¥å‚ç›´æ’åˆ—(column), é»˜è®¤ä¸ºcolumn.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { AppRegistry, View } from 'react-native';

class FlexDirectionBasics extends Component {
  render() {
    return (
      // å°è¯•æŠŠ`flexDirection`æ”¹ä¸º`column`çœ‹çœ‹
      &lt;View style={{flex: 1, flexDirection: 'row'}}&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'powderblue'}} /&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'skyblue'}} /&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'steelblue'}} /&gt;
      &lt;/View&gt;
    );
  }
};

AppRegistry.registerComponent('AwesomeProject', () =&gt; FlexDirectionBasics);
</pre>
</div>
</div>
</div>

<div id="outline-container-org7d1a33e" class="outline-3">
<h3 id="org7d1a33e">justifyContent</h3>
<div class="outline-text-3" id="text-org7d1a33e">
<p>
åœ¨ç»„ä»¶ä¸­çš„ <code>style</code> ä¸­æŒ‡å®š <code>justifyContent</code> å¯ä»¥å†³å®šå­å…ƒç´ æ²¿ç€ä¸»è½´çš„æ’åˆ—æ–¹å¼. å¦‚, å·¦å¯¹é½, å³å¯¹é½, è¿˜æ˜¯å±…ä¸­, ç­‰ç­‰, éƒ½æ˜¯ç”±å®ƒæ¥æŒ‡å®š.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { AppRegistry, View } from 'react-native';

class JustifyContentBasics extends Component {
  render() {
    return (
      // å°è¯•æŠŠ`justifyContent`æ”¹ä¸º`center`çœ‹çœ‹
      // å°è¯•æŠŠ`flexDirection`æ”¹ä¸º`row`çœ‹çœ‹
      &lt;View style={{
        flex: 1,
        flexDirection: 'column',
        justifyContent: 'space-between',
      }}&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'powderblue'}} /&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'skyblue'}} /&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'steelblue'}} /&gt;
      &lt;/View&gt;
    );
  }
};

AppRegistry.registerComponent('AwesomeProject', () =&gt; JustifyContentBasics);
</pre>
</div>
</div>
</div>

<div id="outline-container-org413da17" class="outline-3">
<h3 id="org413da17">alignItems</h3>
<div class="outline-text-3" id="text-org413da17">
<p>
åœ¨ç»„ä»¶çš„ <code>style</code> ä¸­æŒ‡å®š <code>alignItems</code> å¯ä»¥å†³å®šå…¶å­å…ƒç´ æ²¿ç€æ¬¡è½´çš„æ’åˆ—æ–¹å¼.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { AppRegistry, View } from 'react-native';

class AlignItemsBasics extends Component {
  render() {
    return (
      // å°è¯•æŠŠ`alignItems`æ”¹ä¸º`flex-start`çœ‹çœ‹
      // å°è¯•æŠŠ`justifyContent`æ”¹ä¸º`flex-end`çœ‹çœ‹
      // å°è¯•æŠŠ`flexDirection`æ”¹ä¸º`row`çœ‹çœ‹
      &lt;View style={{
        flex: 1,
        flexDirection: 'column',
        justifyContent: 'center',
        alignItems: 'center',
      }}&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'powderblue'}} /&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'skyblue'}} /&gt;
        &lt;View style={{width: 50, height: 50, backgroundColor: 'steelblue'}} /&gt;
      &lt;/View&gt;
    );
  }
};

AppRegistry.registerComponent('AwesomeProject', () =&gt; AlignItemsBasics);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgeae53bc" class="outline-2">
<h2 id="orgeae53bc">å¤„ç†æ–‡æœ¬è¾“å…¥</h2>
<div class="outline-text-2" id="text-orgeae53bc">
<p>
<code>TextInput</code> æ˜¯ä¸€ä¸ªå…è®¸ç”¨æˆ·è¾“å…¥æ–‡æœ¬çš„åŸºç¡€ç»„ä»¶. å®ƒæœ‰ä¸€ä¸ªåä¸º <code>onChangeText</code> å±æ€§, æ­¤å±æ€§æ¥å—ä¸€ä¸ªå‡½æ•°, è€Œæ­¤å‡½æ•°ä¼šåœ¨æ–‡æœ¬å˜åŒ–æ—¶è¢«è°ƒç”¨; æœ‰ä¸€ä¸ªåä¸º <code>onSubmitEditing</code> çš„å±æ€§, åœ¨æ–‡ä»¶è¢«æäº¤åè¢«è°ƒç”¨.
</p>

<p>
æŠŠè¾“å…¥çš„å•è¯è½¬æ¢æˆğŸ•:
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { AppRegistry, Text, TextInput, View } from 'react-native';

export default class PizzaTranslator extends Component {
  constructor(props) {
    super(props);
    this.state = {text: ''};
  }

  render() {
    return (
      &lt;View style={{padding: 10}}&gt;
        &lt;TextInput
          style={{height: 40}}
          placeholder="Type here to translate!"
          onChangeText={(text) =&gt; this.setState({text})}
        /&gt;
        &lt;Text style={{padding: 10, fontSize: 42}}&gt;
          {this.state.text.split(' ').map((word) =&gt; word &amp;&amp; 'ğŸ•').join(' ')}
        &lt;/Text&gt;
      &lt;/View&gt;
    );
  }
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org0b49db9" class="outline-2">
<h2 id="org0b49db9">(ScrollView)æ»šåŠ¨è§†å›¾</h2>
<div class="outline-text-2" id="text-org0b49db9">
<p>
<code>ScrollView</code> æ˜¯ä¸€ä¸ªé€šç”¨çš„å¯æ»šåŠ¨çš„å®¹å™¨, å¯ä»¥åœ¨å…¶ä¸­æ”¾å…¥å¤šä¸ªç»„ä»¶å’Œè§†å›¾, è€Œä¸”è¿™äº›ç»„ä»¶å¹¶ä¸éœ€è¦æ˜¯åŒç±»å‹çš„. <code>ScrollView</code> å¯ä»¥æ°´å¹³æˆ–è€…å‚ç›´æ»šåŠ¨.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import{ ScrollView, Image, Text, View } from 'react-native'

export default class IScrolledDownAndWhatHappenedNextShockedMe extends Component {
  render() {
      return(
        &lt;ScrollView&gt;
          &lt;Text style={{fontSize:96}}&gt;Scroll me plz&lt;/Text&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Text style={{fontSize:96}}&gt;If you like&lt;/Text&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Text style={{fontSize:96}}&gt;Scrolling down&lt;/Text&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Text style={{fontSize:96}}&gt;What's the best&lt;/Text&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Text style={{fontSize:96}}&gt;Framework around?&lt;/Text&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Image source={require('./img/favicon.png')} /&gt;
          &lt;Text style={{fontSize:80}}&gt;React Native&lt;/Text&gt;
        &lt;/ScrollView&gt;
    );
  }
}
</pre>
</div>

<p>
<code>ScrollView</code> ä¼šå°†å†…éƒ¨æ‰€æœ‰ç»„ä»¶éƒ½æ¸²æŸ“. å¦‚æœå¦‚æœè¦æ˜¾ç¤ºè¾ƒé•¿çš„æ»šåŠ¨åˆ—è¡¨, åº”è¯¥ä½¿ç”¨åŠŸèƒ½å·®ä¸å¤š, ä½†æ€§èƒ½æ›´å¥½çš„é•¿åˆ—è¡¨.
</p>
</div>
</div>

<div id="outline-container-org3d7a478" class="outline-2">
<h2 id="org3d7a478">é•¿åˆ—è¡¨</h2>
<div class="outline-text-2" id="text-org3d7a478">
<p>
React Nativeä¸­æœ‰å‡ ä¸ªé•¿åˆ—è¡¨, ä¸€èˆ¬ä½¿ç”¨ <code>FlatList</code> æˆ– <code>SectionList</code>.
</p>
</div>

<div id="outline-container-org6f06009" class="outline-3">
<h3 id="org6f06009">FlatList</h3>
<div class="outline-text-3" id="text-org6f06009">
<p>
ç”¨äºæ˜¾ç¤ºä¸€ä¸ªå‚ç›´çš„æ»šåŠ¨åˆ—è¡¨, å†…éƒ¨å…ƒç´ æ ¼å¼ç›¸åŒ, å…ƒç´ ä¸ªæ•°å¯å¢åˆ . å®ƒä¼˜å…ˆæ¸²æŸ“å±å¹•ä¸Šå¯è§çš„å…ƒç´ .
</p>

<p>
<code>FlatList</code> æœ‰ä¸¤ä¸ªå¿…é¡»çš„å±æ€§: <code>data</code> å’Œ <code>renderItem</code>. <code>data</code> æ˜¯åˆ—è¡¨çš„æ•°æ®æº, <code>renderItem</code> åˆ™ä»æ•°æ®æºä¸­é€ä¸ªè§£ææ•°æ®, ç„¶åè¿”å›ä¸€ä¸ªè®¾å®šå¥½æ ¼å¼çš„ç»„ä»¶æ¥æ¸²æŸ“.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { FlatList, StyleSheet, Text, View } from 'react-native';

export default class FlatListBasics extends Component {
  render() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;FlatList
          data={[
            {key: 'Devin'},
            {key: 'Jackson'},
            {key: 'James'},
            {key: 'Joel'},
            {key: 'John'},
            {key: 'Jillian'},
            {key: 'Jimmy'},
            {key: 'Julie'},
          ]}
          renderItem={({item}) =&gt; &lt;Text style={styles.item}&gt;{item.key}&lt;/Text&gt;}
        /&gt;
      &lt;/View&gt;
    );
  }
}

const styles = StyleSheet.create({
  container: {
   flex: 1,
   paddingTop: 22
  },
  item: {
    padding: 10,
    fontSize: 18,
    height: 44,
  },
})
</pre>
</div>
</div>
</div>

<div id="outline-container-org38b4ef6" class="outline-3">
<h3 id="org38b4ef6">SectionList</h3>
<div class="outline-text-3" id="text-org38b4ef6">
<p>
é€‚ç”¨äºæ¸²æŸ“ä¸€ç»„éœ€è¦åˆ†ç»„çš„æ•°æ®, ä¹Ÿè®¸è¿˜å¸¦æœ‰åˆ†ç»„æ ‡ç­¾.
</p>

<div class="org-src-container">
<pre class="src src-JavaScript">import React, { Component } from 'react';
import { SectionList, StyleSheet, Text, View } from 'react-native';

export default class SectionListBasics extends Component {
  render() {
    return (
      &lt;View style={styles.container}&gt;
        &lt;SectionList
          sections={[
            {title: 'D', data: ['Devin']},
            {title: 'J', data: ['Jackson', 'James', 'Jillian', 'Jimmy', 'Joel', 'John', 'Julie']},
          ]}
          renderItem={({item}) =&gt; &lt;Text style={styles.item}&gt;{item}&lt;/Text&gt;}
          renderSectionHeader={({section}) =&gt; &lt;Text style={styles.sectionHeader}&gt;{section.title}&lt;/Text&gt;}
        /&gt;
      &lt;/View&gt;
    );
  }
}

const styles = StyleSheet.create({
  container: {
   flex: 1,
   paddingTop: 22
  },
  sectionHeader: {
    paddingTop: 2,
    paddingLeft: 10,
    paddingRight: 10,
    paddingBottom: 2,
    fontSize: 14,
    fontWeight: 'bold',
    backgroundColor: 'rgba(247,247,247,1.0)',
  },
  item: {
    padding: 10,
    fontSize: 18,
    height: 44,
  },
})
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org893dd1f" class="outline-2">
<h2 id="org893dd1f">ç½‘ç»œ</h2>
<div class="outline-text-2" id="text-org893dd1f">
<p>
ä¸€èˆ¬ç§»åŠ¨åº”ç”¨éƒ½è¦ä»Serverä¸­è·å–æ•°æ®. æˆ‘ä»¬å¯èƒ½è¦ç»™æŸä¸ªREST APIå‘èµ·POSTè¯·æ±‚, ä»¥æäº¤ç”¨æˆ·æ•°æ®; ä¹Ÿå¯èƒ½ä»Serverä¸Šè·å–ä¸€äº›æ•°æ®.
</p>
</div>

<div id="outline-container-org84b79c8" class="outline-3">
<h3 id="org84b79c8">fetch</h3>
<div class="outline-text-3" id="text-org84b79c8">
<p>
å¦‚æœå­¦è¿‡ <code>XMLHttpRequest(ajax)</code>, åˆ™ <code>fetch</code> ç”¨èµ·æ¥æ¯”è¾ƒå®¹æ˜“ä¸Šæ‰‹.
</p>
</div>

<div id="outline-container-orgdc967d9" class="outline-4">
<h4 id="orgdc967d9">å‘èµ·ç½‘ç»œè¯·æ±‚</h4>
<div class="outline-text-4" id="text-orgdc967d9">
<p>
ä»æŒ‡å®šåœ°å€è·å–å†…å®¹:
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">fetch('https://mywebsite.com/mydata.json')
</pre>
</div>

<p>
<code>fetch()</code> è¿˜æœ‰å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°, ç”¨æ¥å®šåˆ¶HTTPè¯·æ±‚ä¸€äº›å‚æ•°. å¦‚:
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">fetch('https://mywebsite.com/endpoint/', {
  method: 'POST',
  headers: {
    'Accept': 'application/json',
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    firstParam: 'yourValue',
    secondParam: 'yourOtherValue',
  })
})
</pre>
</div>
<p>
æäº¤æ•°æ®çš„æ ¼å¼å–å†³äº <code>headers</code> ä¸­çš„ <code>Content-Type</code>. <code>Content-Type</code> æœ‰å¤šç§, å¯¹åº”çš„ <code>body</code> çš„æ ¼å¼ä¹Ÿæœ‰å¤šç§. ä½¿ç”¨å“ªç§, åå•†æ¸…æ¥šå°±å¥½. æ¯”å¦‚ç”¨ç½‘é¡µè¡¨ç¤ºçš„å½¢å¼ä¼ é€’:
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">fetch('https://mywebsite.com/endpoint/', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',
  },
  body: 'key1=value1&amp;key2=value2'
})
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1908bad" class="outline-3">
<h3 id="org1908bad">å¤„ç†æœåŠ¡å™¨çš„å“åº”æ•°æ®</h3>
<div class="outline-text-3" id="text-org1908bad">
<div class="org-src-container">
<pre class="src src-JavaScript">getMoviesFromApiAsync() {
    return fetch('https://facebook.github.io/react-native/movies.json')
      .then((response) =&gt; response.json())
      .then((responseJson) =&gt; {
        return responseJson.movies;
      })
      .catch((error) =&gt; {
        console.error(error);
      });
  }
</pre>
</div>

<p>
è¿˜å¯ä»¥ä½¿ç”¨ES7æ ‡å‡†ä¸­çš„ <code>async/await</code> è¯­æ³•:
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">// æ³¨æ„è¿™ä¸ªæ–¹æ³•å‰é¢æœ‰asyncå…³é”®å­—
  async getMoviesFromApi() {
    try {
      // æ³¨æ„è¿™é‡Œçš„awaitè¯­å¥ï¼Œå…¶æ‰€åœ¨çš„å‡½æ•°å¿…é¡»æœ‰asyncå…³é”®å­—å£°æ˜
      let response = await fetch('https://facebook.github.io/react-native/movies.json');
      let responseJson = await response.json();
      return responseJson.movies;
    } catch(error) {
      console.error(error);
    }
  }
</pre>
</div>

<p>
é»˜è®¤æƒ…å†µä¸‹, iOSä¼šé˜»æ­¢æ‰€æœ‰éhttpsè¯·æ±‚. å¦‚æœéè¦ä½¿ç”¨httpåè®®, å‚è€ƒæ–‡æ¡£<a href="https://segmentfault.com/a/1190000002933776">https://segmentfault.com/a/1190000002933776</a>.
</p>
</div>
</div>

<div id="outline-container-org78623f0" class="outline-3">
<h3 id="org78623f0">AJAX</h3>
<div class="outline-text-3" id="text-org78623f0">
<p>
æ­¤å¤„ä¸ä»‹ç».
</p>
</div>
</div>

<div id="outline-container-org0b9479a" class="outline-3">
<h3 id="org0b9479a">WebSocket</h3>
<div class="outline-text-3" id="text-org0b9479a">
<p>
React Nativeè¿˜æ”¯æŒ <code>WebSocket</code>.
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">var ws = new WebSocket('ws://host.com/path');

ws.onopen = () =&gt; {
  // æ‰“å¼€ä¸€ä¸ªè¿æ¥

  ws.send('something'); // å‘é€ä¸€ä¸ªæ¶ˆæ¯
};

ws.onmessage = (e) =&gt; {
  // æ¥æ”¶åˆ°äº†ä¸€ä¸ªæ¶ˆæ¯
  console.log(e.data);
};

ws.onerror = (e) =&gt; {
  // å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯
  console.log(e.message);
};

ws.onclose = (e) =&gt; {
  // è¿æ¥è¢«å…³é—­äº†
  console.log(e.code, e.reason);
};
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0318fbf" class="outline-2">
<h2 id="org0318fbf">Navigation</h2>
<div class="outline-text-2" id="text-org0318fbf">
<p>
React Nativeä¸­æœ‰å¤šç§å¯¼èˆªç»„ä»¶, ç¤¾åŒºä¸»æ¨ <code>react-navigation</code>.
</p>
</div>

<div id="outline-container-org0ab6c1b" class="outline-3">
<h3 id="org0ab6c1b">å®‰è£…</h3>
<div class="outline-text-3" id="text-org0ab6c1b">
<div class="org-src-container">
<pre class="src src-Shell">yarn add react-navigation
</pre>
</div>
</div>
</div>

<div id="outline-container-org744d302" class="outline-3">
<h3 id="org744d302">åˆ›å»ºä¸¤ä¸ªé¡µé¢</h3>
<div class="outline-text-3" id="text-org744d302">
<p>
åˆ›å»ºæœ‰ä¸¤ä¸ªé¡µé¢(Mainå’ŒProfile)çš„åº”ç”¨:
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">import {
  StackNavigator,
} from 'react-navigation';

const App = StackNavigator({
  Main: {screen: MainScreen},
  Profile: {screen: ProfileScreen},
});
</pre>
</div>

<p>
å…¶ä¸­, æ¯ä¸ª <code>screen</code> ç»„ä»¶éƒ½å¯ä»¥å•ç‹¬è®¾ç½®å¯¼èˆªé€‰é¡¹, å¦‚å¯¼èˆªå¤´çš„æ ‡é¢˜, é¡µé¢çš„è·³è½¬ç­‰:
</p>
<div class="org-src-container">
<pre class="src src-JavaScript">class MainScreen extends React.Component {
  static navigationOptions = {
    title: 'Welcome',
  };
  render() {
    const { navigate } = this.props.navigation;
    return (
      &lt;Button
        title="Go to Jane's profile"
        onPress={() =&gt;
          navigate('Profile', { name: 'Jane' });
        }
      /&gt;
    );
  }
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfdf9d18" class="outline-2">
<h2 id="orgfdf9d18">é›†æˆåˆ°ç°æœ‰åŸç”Ÿåº”ç”¨</h2>
<div class="outline-text-2" id="text-orgfdf9d18">
<p>
åœ¨åŸç”Ÿåº”ç”¨ç¨‹åºçš„åŸºç¡€ä¸Š, åŠ ä¸ŠReact Nativeå†™çš„å†…å®¹. å€¼å¾—å­¦ä¹ .
</p>
</div>
</div>

</div>
</div>
    <div>
      <div class="post-meta">
        <span title="post date" class="post-info">2018-04-02</span>
        <span title="last modification date" class="post-info">2018-04-02</span>
        <span title="tags" class="post-info"><a href="/tags/reactnative/">ReactNative</a></span>
        <span title="author" class="post-info">Pinvon</span>
      </div>
      <section>
        <h1>Comments</h1>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          //var disqus_developer = 1;
          var disqus_identifier = "/blog/2018/04/02/react-nativeå…¥é—¨æ•™ç¨‹";
          var disqus_url = "http://pinvondev.github.io/blog/2018/04/02/react-nativeå…¥é—¨æ•™ç¨‹";
          var disqus_shortname = 'pinvon';
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="//disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
       <div id="hashover"></div>
       <script type="text/javascript" src="/hashover.php"></script>
       <noscript>You must have JavaScript enabled to use the comments.</noscript>
      </section>
      <script src="//code.jquery.com/jquery-latest.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="/media/js/main.js"></script>
      <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x (<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Copyright &copy; 2012 - <span id="footerYear"></span> <a href="mailto:pinvon &lt;at&gt; Inspiron">Pinvon</a>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          Powered by <a href="https://github.com/kelvinh/org-page" target="_blank">org-page</a>
          <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
      </div>
    </div>

  </body>
</html>
